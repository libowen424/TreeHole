{"remainingRequest":"B:\\WebApp\\WebVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!B:\\WebApp\\WebVue\\src\\components\\CommentBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"B:\\WebApp\\WebVue\\src\\components\\CommentBox.vue","mtime":1591323269986},{"path":"B:\\WebApp\\WebVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\WebApp\\WebVue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"B:\\WebApp\\WebVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\WebApp\\WebVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2dldFN1YnJlcGxpZXN9IGZyb20gIi4uL3NlcnZpY2VzL3JlcGx5U2VydmljZSINCmltcG9ydCB7cG9zdFN1YnJlcGx5fSBmcm9tICIuLi9zZXJ2aWNlcy9yZXBseVNlcnZpY2UiDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm57DQogICAgc3VicmVwbHlhZGQ6ew0KICAgICAgICBwdWJOYW1lOiIiLA0KICAgICAgICByZXBOYW1lOiIiLA0KICAgICAgICBjb250ZW50OiIiLA0KICAgICAgICByZXBseUlkOjAsDQogICAgfSwNCiAgICB0ZXh0OiIiLA0KICAgIGlzUmVwbHlpbmc6ZmFsc2UsLy/mmK/lkKblh7rnjrDmt7vliqDor4TorrrnmoTovpPlhaXmoYYNCg0KICAgICBzdWJyZXBsaWVzOltdLA0KICAgICAgICB9Ow0KICAgIH0sDQogICAgLy/pnIDopoHkvKDov5vmnaXlvoXlsZXnpLrnmoTmlbDmja4NCiAgICAvL3JlcGxpZXPmmK/kuLvlm57lpI0NCnByb3BzOnsNCiAgICByZXBseUlkOnsNCiAgICAgICAgZGVmYXVsdDpudWxsLA0KICAgIH0sDQogICBjb250ZW50OnsNCiAgICAgICBkZWZhdWx0OiIiLA0KICAgICAgIHR5cGU6U3RyaW5nLA0KICAgfSwNCiAgIGF1dGhvcjp7DQogICAgICAgZGVmYXVsdDoiIiwNCiAgICAgICB0eXBlOlN0cmluZywNCiAgIH0sDQogICB0b3BpY0lkOnsNCiAgICAgICBkZWZhdWx0Om51bGwsDQogICB9DQp9LA0KbWV0aG9kczp7DQogICAgc2hvd0FkZHN1YihyZXBuYW1lKQ0KICAgIHsNCnRoaXMuaXNSZXBseWluZyA9ICF0aGlzLmlzUmVwbHlpbmc7DQp0aGlzLnN1YnJlcGx5YWRkLnJlcE5hbWU9cmVwbmFtZTsNCiAgICB9LA0KICAgIGFkZFN1YnJlcGx5KCkNCiAgICB7DQogICAgdGhpcy5pc1JlcGx5aW5nID0gIXRoaXMuaXNSZXBseWluZzsNCiAgICAvL+a3u+WKoOWJr+WbnuWkjQ0KICAgIHRoaXMuc3VicmVwbHlhZGQuY29udGVudD10aGlzLnRleHQ7DQogICAgdGhpcy5zdWJyZXBseWFkZC5wdWJOYW1lPXRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luVXNlci5kYXRhLm5pY2tuYW1lOw0KICAgIHRoaXMuc3VicmVwbHlhZGQucmVwbHlJZD10aGlzLnJlcGx5SWQ7DQogICAgcG9zdFN1YnJlcGx5KHRoaXMuc3VicmVwbHlhZGQpOw0KICAgIHRoaXMudGV4dD0iIjsNCiAgICB0aGlzLnNldERhdGFzKCk7DQogICAgfSwNCmFzeW5jIHNldERhdGFzKCkNCnsNCiAgICBnZXRTdWJyZXBsaWVzKHRoaXMucmVwbHlJZCkudGhlbg0KICAgICgocmVzcCkgPT4NCiAgICB7DQogICAgICAgIHRoaXMuc3VicmVwbGllcz1yZXNwLmRhdGE7DQogICAgfSkNCi8vICAgdmFyIHJlc3AgPWF3YWl0IGdldFN1YnJlcGxpZXModGhpcy5yZXBseUlkKTsNCi8vICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YSk7DQovLyAgIHJldHVybiByZXNwLmRhdGE7DQp9DQp9LA0KY3JlYXRlZDogZnVuY3Rpb24gKCl7DQovLyAgICB0aGlzLnN1YnJlcGxpZXM9dGhpcy5zZXREYXRhcygpOw0KLy8gICAgY29uc29sZS5sb2codGhpcy5zdWJyZXBsaWVzKTsNCnRoaXMuc2V0RGF0YXMoKTsNCn0NCn07DQo="},{"version":3,"sources":["CommentBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommentBox.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div class=\"content\">\r\n\r\n    <div class=\"author\">\r\n        <ul class=\"=p_author\">\r\n            <li><img src=\"../assets\\author.png\" height=\"100\" width=\"100\"></li>\r\n            <li>{{author}}</li>  \r\n        </ul>\r\n    </div> \r\n\r\n    <div class=\"content_main\">\r\n    {{content}}\r\n    </div> \r\n<div class=\"contentToreply\">\r\n    <div \r\n    class=\"reply\"\r\n    v-for=\"item in subreplies\"\r\n    :key=\"item.id\">\r\n        <div class=\"reply_content\"><a>{{item.pubName}}</a>: 回复 <a>{{item.repName}}</a>: {{item.content}}\r\n        <button  style=\"background-color: #FFFFFF ;color: #387cdf; border:1px solid #387cdf;\" \r\n         class=\"button1\" @click=\"showAddsub(item.pubName)\">\r\n         {{\r\n      isReplying ? \"收起回复\" : \"回复\"\r\n        }}\r\n    </button>\r\n        </div>\r\n    </div>\r\n\r\n    <div v-show=\"isReplying\">\r\n        <div class=\"input\">\r\n        <input  style=\"width:750px;height:80px\" v-model=\"text\"> \r\n        </div>\r\n        <div >\r\n    <button style=\"background-color: #FFFFFF ;color: #387cdf; border:1px solid #387cdf;\" \r\n    class=\"button2\" @click=\"addSubreply\">回复</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {getSubreplies} from \"../services/replyService\"\r\nimport {postSubreply} from \"../services/replyService\"\r\nexport default {\r\n    data(){\r\n        return{\r\n    subreplyadd:{\r\n        pubName:\"\",\r\n        repName:\"\",\r\n        content:\"\",\r\n        replyId:0,\r\n    },\r\n    text:\"\",\r\n    isReplying:false,//是否出现添加评论的输入框\r\n\r\n     subreplies:[],\r\n        };\r\n    },\r\n    //需要传进来待展示的数据\r\n    //replies是主回复\r\nprops:{\r\n    replyId:{\r\n        default:null,\r\n    },\r\n   content:{\r\n       default:\"\",\r\n       type:String,\r\n   },\r\n   author:{\r\n       default:\"\",\r\n       type:String,\r\n   },\r\n   topicId:{\r\n       default:null,\r\n   }\r\n},\r\nmethods:{\r\n    showAddsub(repname)\r\n    {\r\nthis.isReplying = !this.isReplying;\r\nthis.subreplyadd.repName=repname;\r\n    },\r\n    addSubreply()\r\n    {\r\n    this.isReplying = !this.isReplying;\r\n    //添加副回复\r\n    this.subreplyadd.content=this.text;\r\n    this.subreplyadd.pubName=this.$store.state.loginUser.data.nickname;\r\n    this.subreplyadd.replyId=this.replyId;\r\n    postSubreply(this.subreplyadd);\r\n    this.text=\"\";\r\n    this.setDatas();\r\n    },\r\nasync setDatas()\r\n{\r\n    getSubreplies(this.replyId).then\r\n    ((resp) =>\r\n    {\r\n        this.subreplies=resp.data;\r\n    })\r\n//   var resp =await getSubreplies(this.replyId);\r\n//       console.log(resp.data);\r\n//   return resp.data;\r\n}\r\n},\r\ncreated: function (){\r\n//    this.subreplies=this.setDatas();\r\n//    console.log(this.subreplies);\r\nthis.setDatas();\r\n}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n    width: 980px;\r\n    min-height:300px;\r\n    border:1px solid rgb(38, 46, 48);\r\n    margin-bottom: 10px;\r\n}\r\n.author {\r\n    width: 130px;\r\n    float: left;\r\n    text-align: center;\r\n    padding: 15px 0;\r\n}\r\n.content_main {\r\n    position: relative;\r\n    float: left;\r\n    width: 800px;\r\n    padding: 0 0 8px 20px;\r\n    background: #fff;\r\n    margin-top:20px;\r\n}\r\n.contentToreply{\r\n    margin-top: 100px;\r\n    margin-bottom: 50px;\r\n}\r\n.reply {\r\n    background: #f7f8fa;\r\n    border: 1px solid #f0f1f2;\r\n    width: 700px;\r\n    border: 1px solid  #fff;\r\n    margin-left: 170px;\r\n    min-height: 0;\r\n    padding: 4px 15px 14px;\r\n}\r\n.reply_content {\r\n    margin-top: 15px;\r\n}\r\n.button{\r\n    margin-right: 20px;\r\n     float: right;\r\n         float: bottom;\r\n\r\n     height: 30px;\r\n     width: 150px;\r\n}\r\n.button1{\r\n    float: right;\r\n    float: bottom;\r\n    text-align: center;\r\n    width: 80px;\r\n    height: 30px;\r\n}\r\n.input{\r\n    margin-top: 30px;\r\n     margin-left: 170px;\r\n}\r\n.button2{\r\n  float: right;\r\n     width: 50px;\r\n    height: 30px;\r\n    margin-right: 70px;\r\n}\r\n</style>"]}]}