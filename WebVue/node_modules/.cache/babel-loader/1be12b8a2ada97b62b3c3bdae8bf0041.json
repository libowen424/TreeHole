{"remainingRequest":"B:\\WebApp\\WebVue\\node_modules\\babel-loader\\lib\\index.js!B:\\WebApp\\WebVue\\src\\store\\loginUser.js","dependencies":[{"path":"B:\\WebApp\\WebVue\\src\\store\\loginUser.js","mtime":1591234056576},{"path":"B:\\WebApp\\WebVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\WebApp\\WebVue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQjovV2ViQXBwL1dlYlZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vIOeZu+W9leeUqOaItyDnmoTku5PlupPmlbDmja4KaW1wb3J0IHsgbG9naW4gYXMgX2xvZ2luLCBsb2dpbk91dCBhcyBfbG9naW5PdXQsIHdob0FtSSBhcyBfd2hvQW1JIH0gZnJvbSAiLi4vc2VydmljZXMvdXNlclNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICAvLyDlvIDlkK/lkb3lkI3nqbrpl7QKICBzdGF0ZTogewogICAgZGF0YTogbnVsbCwKICAgIC8vIOW9k+WJjeeZu+W9leeahOeUqOaItwogICAgaXNMb2FkaW5nOiBmYWxzZSAvLyDmmK/lkKbmraPlnKjov5znqIvliqDovb3kuK0KCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldElzTG9hZGluZzogZnVuY3Rpb24gc2V0SXNMb2FkaW5nKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0RGF0YTogZnVuY3Rpb24gc2V0RGF0YShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5kYXRhID0gcGF5bG9hZDsKICAgIH0KICB9LAogIC8v55m75b2VIOaIkeaYr+iwgSDms6jplIAKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGV4dCwgcGF5bG9hZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoInNldElzTG9hZGluZyIsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX2xvZ2luKHBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIG51bGzmiJbogIXkuIDkuKp1c2Vy5a+56LGhCiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTsgLy/moLnmja7ov5Tlm57lgLwKCiAgICAgICAgICAgICAgICBpZiAocmVzcCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIC8vIOeZu+W9leaIkOWKnwogICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0RGF0YSIsIHJlc3ApOwogICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRJc0xvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/ojrflj5bmlbDmja7otYvnu5nlvZPliY3nlKjmiLcKICAgIHdob0FtSTogZnVuY3Rpb24gd2hvQW1JKGNvbnRleHQpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXRJc0xvYWRpbmciLCB0cnVlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfd2hvQW1JKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCJzZXREYXRhIiwgcmVzcCk7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBsb2dpbk91dDogZnVuY3Rpb24gbG9naW5PdXQoY29udGV4dCkgewogICAgICBfbG9naW5PdXQoKTsKCiAgICAgIGNvbnRleHQuY29tbWl0KCJzZXREYXRhIiwgbnVsbCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["B:/WebApp/WebVue/src/store/loginUser.js"],"names":["login","loginOut","whoAmI","namespaced","state","data","isLoading","mutations","setIsLoading","payload","setData","actions","context","commit","resp","result"],"mappings":";;AAAA;AACA,SAASA,KAAK,IAALA,MAAT,EAAgBC,QAAQ,IAARA,SAAhB,EAA0BC,MAAM,IAANA,OAA1B,QAAwC,yBAAxC;AACA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AACK;AAClBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE,IADD;AACO;AACZC,IAAAA,SAAS,EAAE,KAFN,CAEa;;AAFb,GAFM;AAObC,EAAAA,SAAS,EAAE;AACTC,IAAAA,YADS,wBACIJ,KADJ,EACWK,OADX,EACoB;AAC3BL,MAAAA,KAAK,CAACE,SAAN,GAAkBG,OAAlB;AACD,KAHQ;AAITC,IAAAA,OAJS,mBAIDN,KAJC,EAIMK,OAJN,EAIe;AACtBL,MAAAA,KAAK,CAACC,IAAN,GAAaI,OAAb;AACD;AANQ,GAPE;AAeb;AACAE,EAAAA,OAAO,EAAE;AACDX,IAAAA,KADC,iBACKY,OADL,EACcH,OADd,EACuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5BG,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,IAA/B;AAD4B;AAAA,uBAEXb,MAAK,CAACS,OAAD,CAFM;;AAAA;AAExBK,gBAAAA,IAFwB;AAEK;AAC7BC,gBAAAA,MAHwB,GAGf,KAHe,EAI5B;;AACA,oBAAID,IAAI,IAAE,IAAV,EAAgB;AACd;AACAF,kBAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0BC,IAA1B;AACAC,kBAAAA,MAAM,GAAG,IAAT;AACD;;AACDH,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,KAA/B;AAV4B,iDAWrBE,MAXqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAY7B,KAbM;AAeP;AACMb,IAAAA,MAhBC,kBAgBMU,OAhBN,EAgBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBA,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,IAA/B;AADoB;AAAA,uBAEHX,OAAM,EAFH;;AAAA;AAEhBY,gBAAAA,IAFgB;AAGpBF,gBAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0BC,IAA1B;AACAF,gBAAAA,OAAO,CAACC,MAAR,CAAe,cAAf,EAA+B,KAA/B;;AAJoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKrB,KArBM;AAuBPZ,IAAAA,QAvBO,oBAuBEW,OAvBF,EAuBW;AAChBX,MAAAA,SAAQ;;AACRW,MAAAA,OAAO,CAACC,MAAR,CAAe,SAAf,EAA0B,IAA1B;AACD;AA1BM;AAhBI,CAAf","sourcesContent":["// 登录用户 的仓库数据\nimport { login, loginOut, whoAmI } from \"../services/userService\";\nexport default {\n  namespaced: true, // 开启命名空间\n  state: {\n    data: null, // 当前登录的用户\n    isLoading: false, // 是否正在远程加载中\n  },\n\n  mutations: {\n    setIsLoading(state, payload) {\n      state.isLoading = payload;\n    },\n    setData(state, payload) {\n      state.data = payload;\n    },\n  },\n  //登录 我是谁 注销\n  actions: {\n    async login(context, payload) {\n      context.commit(\"setIsLoading\", true);\n      var resp = await login(payload); // null或者一个user对象\n      var result = false;\n      //根据返回值\n      if (resp!=null) {\n        // 登录成功\n        context.commit(\"setData\", resp);\n        result = true;\n      }\n      context.commit(\"setIsLoading\", false);\n      return result;\n    },\n\n    //获取数据赋给当前用户\n    async whoAmI(context) {\n      context.commit(\"setIsLoading\", true);\n      var resp = await whoAmI();\n      context.commit(\"setData\", resp);\n      context.commit(\"setIsLoading\", false);\n    },\n    \n    loginOut(context) {\n      loginOut();\n      context.commit(\"setData\", null);\n    },\n  },\n};\n"]}]}