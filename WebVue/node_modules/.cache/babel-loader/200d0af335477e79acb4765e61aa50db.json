{"remainingRequest":"B:\\WebApp\\WebVue\\node_modules\\babel-loader\\lib\\index.js!B:\\WebApp\\WebVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!B:\\WebApp\\WebVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!B:\\WebApp\\WebVue\\src\\components\\CommentBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"B:\\WebApp\\WebVue\\src\\components\\CommentBox.vue","mtime":1591323269986},{"path":"B:\\WebApp\\WebVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\WebApp\\WebVue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"B:\\WebApp\\WebVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"B:\\WebApp\\WebVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQjovV2ViQXBwL1dlYlZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldFN1YnJlcGxpZXMgfSBmcm9tICIuLi9zZXJ2aWNlcy9yZXBseVNlcnZpY2UiOwppbXBvcnQgeyBwb3N0U3VicmVwbHkgfSBmcm9tICIuLi9zZXJ2aWNlcy9yZXBseVNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN1YnJlcGx5YWRkOiB7CiAgICAgICAgcHViTmFtZTogIiIsCiAgICAgICAgcmVwTmFtZTogIiIsCiAgICAgICAgY29udGVudDogIiIsCiAgICAgICAgcmVwbHlJZDogMAogICAgICB9LAogICAgICB0ZXh0OiAiIiwKICAgICAgaXNSZXBseWluZzogZmFsc2UsCiAgICAgIC8v5piv5ZCm5Ye6546w5re75Yqg6K+E6K6655qE6L6T5YWl5qGGCiAgICAgIHN1YnJlcGxpZXM6IFtdCiAgICB9OwogIH0sCiAgLy/pnIDopoHkvKDov5vmnaXlvoXlsZXnpLrnmoTmlbDmja4KICAvL3JlcGxpZXPmmK/kuLvlm57lpI0KICBwcm9wczogewogICAgcmVwbHlJZDogewogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgY29udGVudDogewogICAgICBkZWZhdWx0OiAiIiwKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgYXV0aG9yOiB7CiAgICAgIGRlZmF1bHQ6ICIiLAogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICB0b3BpY0lkOiB7CiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNob3dBZGRzdWI6IGZ1bmN0aW9uIHNob3dBZGRzdWIocmVwbmFtZSkgewogICAgICB0aGlzLmlzUmVwbHlpbmcgPSAhdGhpcy5pc1JlcGx5aW5nOwogICAgICB0aGlzLnN1YnJlcGx5YWRkLnJlcE5hbWUgPSByZXBuYW1lOwogICAgfSwKICAgIGFkZFN1YnJlcGx5OiBmdW5jdGlvbiBhZGRTdWJyZXBseSgpIHsKICAgICAgdGhpcy5pc1JlcGx5aW5nID0gIXRoaXMuaXNSZXBseWluZzsgLy/mt7vliqDlia/lm57lpI0KCiAgICAgIHRoaXMuc3VicmVwbHlhZGQuY29udGVudCA9IHRoaXMudGV4dDsKICAgICAgdGhpcy5zdWJyZXBseWFkZC5wdWJOYW1lID0gdGhpcy4kc3RvcmUuc3RhdGUubG9naW5Vc2VyLmRhdGEubmlja25hbWU7CiAgICAgIHRoaXMuc3VicmVwbHlhZGQucmVwbHlJZCA9IHRoaXMucmVwbHlJZDsKICAgICAgcG9zdFN1YnJlcGx5KHRoaXMuc3VicmVwbHlhZGQpOwogICAgICB0aGlzLnRleHQgPSAiIjsKICAgICAgdGhpcy5zZXREYXRhcygpOwogICAgfSwKICAgIHNldERhdGFzOiBmdW5jdGlvbiBzZXREYXRhcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZ2V0U3VicmVwbGllcyhfdGhpcy5yZXBseUlkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnJlcGxpZXMgPSByZXNwLmRhdGE7CiAgICAgICAgICAgICAgICB9KTsgLy8gICB2YXIgcmVzcCA9YXdhaXQgZ2V0U3VicmVwbGllcyh0aGlzLnJlcGx5SWQpOwogICAgICAgICAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKTsKICAgICAgICAgICAgICAgIC8vICAgcmV0dXJuIHJlc3AuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vICAgIHRoaXMuc3VicmVwbGllcz10aGlzLnNldERhdGFzKCk7CiAgICAvLyAgICBjb25zb2xlLmxvZyh0aGlzLnN1YnJlcGxpZXMpOwogICAgdGhpcy5zZXREYXRhcygpOwogIH0KfTs="},{"version":3,"sources":["CommentBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,SAAA,aAAA,QAAA,0BAAA;AACA,SAAA,YAAA,QAAA,0BAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA,EAHA;AAIA,QAAA,OAAA,EAAA;AAJA,OADA;AAOA,MAAA,IAAA,EAAA,EAPA;AAQA,MAAA,UAAA,EAAA,KARA;AAQA;AAEA,MAAA,UAAA,EAAA;AAVA,KAAA;AAYA,GAdA;AAeA;AACA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA,KADA;AAIA,IAAA,OAAA,EAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAJA;AAQA,IAAA,MAAA,EAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA;AAFA,KARA;AAYA,IAAA,OAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA;AAZA,GAjBA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,OADA,EAEA;AACA,WAAA,UAAA,GAAA,CAAA,KAAA,UAAA;AACA,WAAA,WAAA,CAAA,OAAA,GAAA,OAAA;AACA,KALA;AAMA,IAAA,WANA,yBAOA;AACA,WAAA,UAAA,GAAA,CAAA,KAAA,UAAA,CADA,CAEA;;AACA,WAAA,WAAA,CAAA,OAAA,GAAA,KAAA,IAAA;AACA,WAAA,WAAA,CAAA,OAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAAA,WAAA,CAAA,OAAA,GAAA,KAAA,OAAA;AACA,MAAA,YAAA,CAAA,KAAA,WAAA,CAAA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,QAAA;AACA,KAhBA;AAiBA,IAAA,QAjBA,sBAkBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,aAAA,CAAA,KAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CACA,UAAA,IAAA,EACA;AACA,kBAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA;AACA,iBAJA,EADA,CAMA;AACA;AACA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AA3BA,GAjCA;AA8DA,EAAA,OAAA,EAAA,mBAAA;AACA;AACA;AACA,SAAA,QAAA;AACA;AAlEA,CAAA","sourcesContent":["<template>\r\n<div class=\"content\">\r\n\r\n    <div class=\"author\">\r\n        <ul class=\"=p_author\">\r\n            <li><img src=\"../assets\\author.png\" height=\"100\" width=\"100\"></li>\r\n            <li>{{author}}</li>  \r\n        </ul>\r\n    </div> \r\n\r\n    <div class=\"content_main\">\r\n    {{content}}\r\n    </div> \r\n<div class=\"contentToreply\">\r\n    <div \r\n    class=\"reply\"\r\n    v-for=\"item in subreplies\"\r\n    :key=\"item.id\">\r\n        <div class=\"reply_content\"><a>{{item.pubName}}</a>: 回复 <a>{{item.repName}}</a>: {{item.content}}\r\n        <button  style=\"background-color: #FFFFFF ;color: #387cdf; border:1px solid #387cdf;\" \r\n         class=\"button1\" @click=\"showAddsub(item.pubName)\">\r\n         {{\r\n      isReplying ? \"收起回复\" : \"回复\"\r\n        }}\r\n    </button>\r\n        </div>\r\n    </div>\r\n\r\n    <div v-show=\"isReplying\">\r\n        <div class=\"input\">\r\n        <input  style=\"width:750px;height:80px\" v-model=\"text\"> \r\n        </div>\r\n        <div >\r\n    <button style=\"background-color: #FFFFFF ;color: #387cdf; border:1px solid #387cdf;\" \r\n    class=\"button2\" @click=\"addSubreply\">回复</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {getSubreplies} from \"../services/replyService\"\r\nimport {postSubreply} from \"../services/replyService\"\r\nexport default {\r\n    data(){\r\n        return{\r\n    subreplyadd:{\r\n        pubName:\"\",\r\n        repName:\"\",\r\n        content:\"\",\r\n        replyId:0,\r\n    },\r\n    text:\"\",\r\n    isReplying:false,//是否出现添加评论的输入框\r\n\r\n     subreplies:[],\r\n        };\r\n    },\r\n    //需要传进来待展示的数据\r\n    //replies是主回复\r\nprops:{\r\n    replyId:{\r\n        default:null,\r\n    },\r\n   content:{\r\n       default:\"\",\r\n       type:String,\r\n   },\r\n   author:{\r\n       default:\"\",\r\n       type:String,\r\n   },\r\n   topicId:{\r\n       default:null,\r\n   }\r\n},\r\nmethods:{\r\n    showAddsub(repname)\r\n    {\r\nthis.isReplying = !this.isReplying;\r\nthis.subreplyadd.repName=repname;\r\n    },\r\n    addSubreply()\r\n    {\r\n    this.isReplying = !this.isReplying;\r\n    //添加副回复\r\n    this.subreplyadd.content=this.text;\r\n    this.subreplyadd.pubName=this.$store.state.loginUser.data.nickname;\r\n    this.subreplyadd.replyId=this.replyId;\r\n    postSubreply(this.subreplyadd);\r\n    this.text=\"\";\r\n    this.setDatas();\r\n    },\r\nasync setDatas()\r\n{\r\n    getSubreplies(this.replyId).then\r\n    ((resp) =>\r\n    {\r\n        this.subreplies=resp.data;\r\n    })\r\n//   var resp =await getSubreplies(this.replyId);\r\n//       console.log(resp.data);\r\n//   return resp.data;\r\n}\r\n},\r\ncreated: function (){\r\n//    this.subreplies=this.setDatas();\r\n//    console.log(this.subreplies);\r\nthis.setDatas();\r\n}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n    width: 980px;\r\n    min-height:300px;\r\n    border:1px solid rgb(38, 46, 48);\r\n    margin-bottom: 10px;\r\n}\r\n.author {\r\n    width: 130px;\r\n    float: left;\r\n    text-align: center;\r\n    padding: 15px 0;\r\n}\r\n.content_main {\r\n    position: relative;\r\n    float: left;\r\n    width: 800px;\r\n    padding: 0 0 8px 20px;\r\n    background: #fff;\r\n    margin-top:20px;\r\n}\r\n.contentToreply{\r\n    margin-top: 100px;\r\n    margin-bottom: 50px;\r\n}\r\n.reply {\r\n    background: #f7f8fa;\r\n    border: 1px solid #f0f1f2;\r\n    width: 700px;\r\n    border: 1px solid  #fff;\r\n    margin-left: 170px;\r\n    min-height: 0;\r\n    padding: 4px 15px 14px;\r\n}\r\n.reply_content {\r\n    margin-top: 15px;\r\n}\r\n.button{\r\n    margin-right: 20px;\r\n     float: right;\r\n         float: bottom;\r\n\r\n     height: 30px;\r\n     width: 150px;\r\n}\r\n.button1{\r\n    float: right;\r\n    float: bottom;\r\n    text-align: center;\r\n    width: 80px;\r\n    height: 30px;\r\n}\r\n.input{\r\n    margin-top: 30px;\r\n     margin-left: 170px;\r\n}\r\n.button2{\r\n  float: right;\r\n     width: 50px;\r\n    height: 30px;\r\n    margin-right: 70px;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}